<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" 
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:a="http://xmlns.jcp.org/jsf/passthrough">
	<head>
		<title>ESI-JSF Users</title>	
	</head>
	<body>
	<f:metadata>      
	</f:metadata>
		<ui:composition template="../WEB-INF/template.xhtml">
			<ui:define name="jumbotron">		
			<h:panelGrid columns = "1" style="margin-left:20%">			
 		    	<h2>List Users</h2>
				<h:form>
				 	<h:inputText a:placeholder="login" id="search" value="#{user.searchString}"></h:inputText>
					<h:commandButton value="SearchUsers" action="#{user.searchByUser(user.searchString)}"/>							
				</h:form>
			</h:panelGrid>
			</ui:define>			
			<ui:define name="content">
				<div class ="container">
					<h:dataTable 
						    id="users-table"
							value="#{user.users}" 
							var="userEntity" 
							styleClass="table table-striped table-bordered justify-content-center text-center"							
						>
						<h:column >    				
					    	<f:facet name="header"><p style="text-align:center;margin:auto">Login</p></f:facet>    				
					    	#{userEntity.login}
					   	</h:column>
					   	<h:column>    				
					    	<f:facet name="header" ><p style="text-align:center;margin:auto">Name</p></f:facet>    				
					      	#{userEntity.name}
					   	</h:column>
					   	<h:column>    				
					    	<f:facet name="header"><p style="text-align:center;margin:auto">Options</p></f:facet>    				
							<h:form>
								<h:commandButton value="Posts" action="#{post.posts(userEntity.login)}"/>							
							</h:form>
					   	</h:column>
					</h:dataTable>
				</div>
				
			</ui:define>
		</ui:composition>
		<h:outputScript name="webjars/bootstrap/3.3.7-1/js/bootstrap.min.js" />
	</body>
</html>
